
Difference b/w Monit and Supervisor:

| Feature            | **Monit**                            | **Supervisor**                         |
| ------------------ | ------------------------------------ | -------------------------------------- |
| **Purpose**        | System monitoring and self-healing   | Process management for apps/scripts    |
| **Best for**       | System services (e.g., Nginx, MySQL) | App processes (e.g., Python, Node.js)  |
| **Monitoring**     | Yes (CPU, memory, file checks, etc.) | No (only checks if process is running) |
| **Auto-Restart**   | ✅ Yes                                | ✅ Yes                                  |
| **Alerting**       | ✅ Built-in email alerts              | ❌ Requires custom scripts              |
| **Web Interface**  | ✅ Yes (via port 2812)                | ❌ No (unless extended with plugins)    |
| **Resource Usage** | Lightweight                          | Lightweight                            |
| **Config Style**   | Custom declarative syntax            | INI file format                        |

Installed Ubuntu

Installation of Monit:

sudo yum install epel release
sudo yum install monit -y
sudo systemctl enable monit
sudo systemctl status monit
monit -v

Configuration:

To monit NGINX service:

cd /etc/monit
nano monitrc

set httpd port 2812 and
    use address 127.0.0.1
    #allow localhost
allow admin:monit

Open local web browser--> enter http://127.0.0.0:2812

check process nginx with pidfile /run/nginx.pid
start prpgram= "/usr/sbin/service nginx start"
stop program = "/usr/sbin/servive nginx stop"
if failed 127.0.0.1 port 80 protocol http for 3 cycles then restart

set mailserver smtp.gmail.com port 587
username = "vinitharaja@gmail.com" password= "app password"
using tls

sudo monit -t
sudo monit reload
sudo monit status

To find the Nginx status:
systemctl status nginx

To sent alert to mail:
systemctl stop nginx

check mail

Open local web browser--> enter http://127.0.0.0:2812

SUPERVISOR:

python app install:
cd /
apt install python3

mkdir ~/pyapp
cd ~/pyapp
nano app.py

# app.py
import time

while True:
    print("Python app is running...")
    time.sleep(5)

Install nodeapp also and create index.fs
 
sudo nano /etc/supervisor/conf.d/pyapp.conf

[program:pyapp]
command=/usr/bin/python3 /pyapp/app.py
autostart=true
autorestart=true
user=root
stdout_logfile=/var/log/pyapp.out.log
stderr_logfile=/var/log/pyapp.err.log

sudo nano /etc/supervisor/conf.d/nodeapp.conf

[program:nodeapp]
command=/usr/bin/node /nodeapp/index.js
autostart=true
autorestart=true
stderr_logfile=/var/log/nodeapp/nodeapp.err.log
stdout_logfile=/var/log/nodeapp/nodeapp.out.log

sudo apt install supervisor -y
sudo systemctl enable supervisor
sudo systemctl start supervisor
supervisord -v

sudo supervisorctl reread
sudo supervisorctl update


sudo supervisorctl status pyapp
sudo supervisorctl status nodeapp
